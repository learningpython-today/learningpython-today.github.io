<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The Twitter API &#8212; Programs, Information, and People: Interactive Edition</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/matrixeq.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webgldemo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/webglinteractive.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/js_lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/accessibility.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootswatch/2.3.1/""/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/webglinteractive.js"></script>
    <script type="text/javascript" src="../_static/FileSaver.min.js"></script>
    <script type="text/javascript" src="../_static/Blob.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/js_lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/js_lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Paging" href="Paging.html" />
    <link rel="prev" title="Requests OAuthLib Library" href="RequestsOAuthLib.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'pip2';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = true;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = true;
  eBookConfig.python3 = true;
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html">Table of Contents</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div class="gittip">
                  <iframe style="border:0;"
                    src="https://www.gittip.com/bnmnetp/widget.html"
                    width="48pt" height="22pt" class="gittip-button">
                  </iframe>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/pip2/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
<!--            <li class="divider"></li>
            <li><a href='http://127.0.0.1:8000/runestone/mygroup/initiateGroup' id="joinGroupLink">Join a Study Group</a></li>
            <li><a href='http://127.0.0.1:8000/runestone/mygroup/schedule' id="groupScheduleLink">Group Schedule</a></li>
            <li><a href='http://127.0.0.1:8000/runestone/mygroup/newschedule' id="newChapterLink">Schedule New Chapter</a></li>
            <li><a href='http://127.0.0.1:8000/runestone/mygroup/manageGroup' id="manageGroupLink">Manage Group</a></li>
			<li class="divider"></li> -->
            <li><a href='http://127.0.0.1:8000/runestone/admin/index'>Instructor's Page</a></li>
            <li><a href='http://127.0.0.1:8000/runestone/assignments/index'>Progress Page</a></li>
            <li class="divider"></li>
<!--            <li><a href="http://127.0.0.1:8000/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/register" id="registerlink">Register</a></li>
            <li class='loginout'><a href='#'>Login</a></li> --><!-- correct link populated by addNavbarLoginLink() -->
          </ul>
        </li>
        <!-- end user account dropdown -->

        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/pip2/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='https://github.com/bnmnetp/runestone/issues/new'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">The Twitter API</a><ul>
<li><a class="reference internal" href="#using-the-provided-code-for-the-twitter-api">Using the provided code for the Twitter API</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - Requests OAuthLib Library" data-toggle="tooltip">
    <a href="RequestsOAuthLib.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Paging' data-toggle="tooltip" >
    <a href="Paging.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="the-twitter-api">
<span id="twitter-api"></span><h1>The Twitter API<a class="headerlink" href="#the-twitter-api" title="Permalink to this headline">¶</a></h1>
<p>The Twitter API is one that works like this. You can see the full documentation for it <a class="reference external" href="https://dev.twitter.com/rest/public">online</a>.</p>
<p>We’ve provided some code in a file called <code class="docutils literal notranslate"><span class="pre">oauth_with_twitter.py</span></code> on Canvas, <strong>Files &gt; Code</strong>. This code automates some of that process you just read about. It’s heavily commented so you can go through it and understand how it can help you. It can also be adapted for similar APIs. Its contents are below.</p>
<p>Notice that the request made to an API to get interesting (protected) data is all the way at line <strong>143</strong> in the code. Before that is the prep – steps 1-7 in the process you just read about, to get data from an API that uses the OAuth protocol.</p>
<p>Also notice the <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">webbrowser</span></code> – You’ve seen this before when we wrote code using the Flickr API to open up photos in the browser. Here, we’re using the <code class="docutils literal notranslate"><span class="pre">webbrowser</span></code> module to open up a browser window where the user can log in to Twitter to authenticate permissions.</p>
<p>In this code, we cache verification tokens so that it’s easy to use them again. But caching <em>data</em>, as you learned about earlier, is also a good idea when you make requests to the Twitter API, because it has a rate limit (one application, or one IP address, can only make a certain number of requests per day!).</p>
<div class="section" id="using-the-provided-code-for-the-twitter-api">
<h2>Using the provided code for the Twitter API<a class="headerlink" href="#using-the-provided-code-for-the-twitter-api" title="Permalink to this headline">¶</a></h2>
<p>The beginning of the <code class="docutils literal notranslate"><span class="pre">oauth_with_twitter</span></code> code has a link to <code class="docutils literal notranslate"><span class="pre">https://apps.twitter.com/</span></code>, where you can fill in information for an application for your Twitter account. (In order to use this, you’ll need to sign up for a Twitter account, but you don’t need to post anything on it.) A couple notes about this:</p>
<ul class="simple">
<li>When you fill in a placeholder website in the application process, be sure it is a full URL – in other words, that it begins with <code class="docutils literal notranslate"><span class="pre">http://</span></code> or <code class="docutils literal notranslate"><span class="pre">https://</span></code>.</li>
<li>You will need to add a mobile phone number to your Twitter account in order to register an application (this is a new requirement). If you don’t feel comfortable doing this, you can get a Google Voice number at this url: <code class="docutils literal notranslate"><span class="pre">https://support.google.com/voice/answer/115061?hl=en</span></code> – you will have to authorize your phone number by typing in a text message code that you receive in order to register a Twitter application.</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">oauth_with_twitter.py</span></code> code is below. It’s lengthy, so it may be easier to open the file yourself on Canvas and examine it in a code editor.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests_oauthlib</span>
<span class="kn">import</span> <span class="nn">webbrowser</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="k">def</span> <span class="nf">pretty</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Get these from the Twitter website, by going to</span>
<span class="c1"># https://apps.twitter.com/ and creating an &quot;app&quot;</span>
<span class="c1"># Don&#39;t fill in a callback_url; instead, put in a placeholder for the website</span>
<span class="c1"># Visit the Keys and Access Tokens tab for your app and grab the following two values</span>

<span class="n">client_key</span> <span class="o">=</span> <span class="bp">None</span> <span class="c1"># what Twitter calls Consumer Key -- fill in a string here</span>
<span class="n">client_secret</span> <span class="o">=</span> <span class="bp">None</span> <span class="c1"># What Twitter calls Consumer Secret -- fill in a string here</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">client_secret</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">client_key</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;You need to fill in client_key and client_secret. See comments in the code around line 8-14&quot;</span><span class="p">)</span>
    <span class="nb">exit</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_tokens</span><span class="p">():</span>
    <span class="c1">## Step 1: Obtain a request token which will identify you (the client) in the next step.</span>
    <span class="c1"># At this stage you will only need your client key and secret</span>

    <span class="c1"># OAuth1Session is a class defined in the requests_oauthlib module</span>
    <span class="c1"># Two values are passed to the __init__ method of OAuth1Session</span>
    <span class="c1"># -- the key is passed as the value of the first parameter (whose name we don&#39;t know)</span>
    <span class="c1"># -- the secret is passed as the value of the parameter that is also called client_secret</span>
    <span class="c1"># after this line executes, oauth will now be an instance of the class OAuth1Session</span>
    <span class="n">oauth</span> <span class="o">=</span> <span class="n">requests_oauthlib</span><span class="o">.</span><span class="n">OAuth1Session</span><span class="p">(</span><span class="n">client_key</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">)</span>

    <span class="n">request_token_url</span> <span class="o">=</span> <span class="s1">&#39;https://api.twitter.com/oauth/request_token&#39;</span>

    <span class="c1"># invoke the fetch_request_token method of the class OAuth1Session on our instance</span>
    <span class="c1"># it returns a dictionary that might look like this:</span>
    <span class="c1"># {</span>
    <span class="c1">#     &quot;oauth_token&quot;: &quot;Z6eEdO8MOmk394WozF5oKyuAv855l4Mlqo7hhlSLik&quot;,</span>
    <span class="c1">#     &quot;oauth_token_secret&quot;: &quot;Kd75W4OQfb2oJTV0vzGzeXftVAwgMnEK9MumzYcM&quot;</span>
    <span class="c1"># }</span>
    <span class="c1"># It also saves the oauth_token as an instance variable of the object</span>
    <span class="c1"># oauth is bound to, so it can be used in later steps</span>
    <span class="n">fetch_response</span> <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">fetch_request_token</span><span class="p">(</span><span class="n">request_token_url</span><span class="p">)</span>

    <span class="c1"># pull the two values out of the dictionary and store them in a variable for later use</span>
    <span class="c1"># note that d.get(&#39;somekey&#39;) is another way of writing d[&#39;somekey&#39;]</span>
    <span class="n">resource_owner_key</span> <span class="o">=</span> <span class="n">fetch_response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;oauth_token&#39;</span><span class="p">)</span>
    <span class="n">resource_owner_secret</span> <span class="o">=</span> <span class="n">fetch_response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;oauth_token_secret&#39;</span><span class="p">)</span>

    <span class="c1">## Step 2. Obtain authorization from the user (resource owner) to access their protected resources (images, tweets, etc.). This is commonly done by redirecting the user to a specific url to which you add the request token as a query parameter. Note that not all services will give you a verifier even if they should. Also the oauth_token given here will be the same as the one in the previous step.</span>

    <span class="n">base_authorization_url</span> <span class="o">=</span> <span class="s1">&#39;https://api.twitter.com/oauth/authorize&#39;</span>
    <span class="c1"># append the query parameters need to make it a full url.</span>
    <span class="c1"># they will include the resource_owner_key from the previus step,</span>
    <span class="c1"># which was stored in the oauth object above as an instance variable</span>
    <span class="c1"># when fetch_request_token was invoked</span>
    <span class="n">authorization_url</span> <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">authorization_url</span><span class="p">(</span><span class="n">base_authorization_url</span><span class="p">)</span>

    <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">authorization_url</span><span class="p">)</span>

    <span class="c1"># After the user authenticates at Twitter, it would normally &quot;redirect&quot;</span>
    <span class="c1"># the browser back to our website. But we aren&#39;t running a website.</span>
    <span class="c1"># Some services, like Twitter, will let you configure the app to</span>
    <span class="c1"># display a verifier, or the entire redirect url, rather than actually</span>
    <span class="c1"># redirecting to it.</span>
    <span class="c1"># User will have to cut and paste the verifier or the whole redirect url</span>

    <span class="c1"># version where the website provides a verifier</span>
    <span class="n">verifier</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input the verifier&gt;&gt;&gt; &#39;</span><span class="p">)</span>

    <span class="c1"># version where the website provides the entire redirect url</span>
    <span class="c1"># redirect_response = input(&#39;Paste the full redirect URL here: &#39;)</span>
    <span class="c1"># oauth_response = oauth.parse_authorization_response(redirect_response)</span>
    <span class="c1"># get back something like this</span>
    <span class="c1">#{</span>
    <span class="c1">#    &quot;oauth_token&quot;: &quot;Z6eEdO8MOmk394WozF5oKyuAv855l4Mlqo7hhlSLik&quot;,</span>
    <span class="c1">#    &quot;oauth_verifier&quot;: &quot;sdflk3450FASDLJasd2349dfs&quot;</span>
    <span class="c1">#}</span>
    <span class="c1"># verifier = oauth_response.get(&#39;oauth_verifier&#39;)</span>

    <span class="c1">## Step 3. Obtain an access token from the OAuth provider. Save this token so it can be re-used later.</span>
    <span class="c1"># In this step we re-use most of the credentials obtained up to this point.</span>

    <span class="c1"># make a new instance of OAuth1Session, with several more parameters filled in</span>
    <span class="n">oauth</span> <span class="o">=</span> <span class="n">requests_oauthlib</span><span class="o">.</span><span class="n">OAuth1Session</span><span class="p">(</span><span class="n">client_key</span><span class="p">,</span>
                              <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
                              <span class="n">resource_owner_key</span><span class="o">=</span><span class="n">resource_owner_key</span><span class="p">,</span>
                              <span class="n">resource_owner_secret</span><span class="o">=</span><span class="n">resource_owner_secret</span><span class="p">,</span>
                              <span class="n">verifier</span><span class="o">=</span><span class="n">verifier</span><span class="p">)</span>

    <span class="n">access_token_url</span> <span class="o">=</span> <span class="s1">&#39;https://api.twitter.com/oauth/access_token&#39;</span>
    <span class="n">oauth_tokens</span> <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">fetch_access_token</span><span class="p">(</span><span class="n">access_token_url</span><span class="p">)</span>
    <span class="c1"># get back something like this</span>
    <span class="c1">#{</span>
    <span class="c1">#    &quot;oauth_token&quot;: &quot;6253282-eWudHldSbIaelX7swmsiHImEL4KiNdrY&quot;,</span>
    <span class="c1">#    &quot;oauth_token_secret&quot;: &quot;2EEfA6BG3ly3sR3RjE0IBSnKmrkVU&quot;</span>
    <span class="c1">#}</span>
    <span class="n">resource_owner_key</span> <span class="o">=</span> <span class="n">oauth_tokens</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;oauth_token&#39;</span><span class="p">)</span>
    <span class="n">resource_owner_secret</span> <span class="o">=</span> <span class="n">oauth_tokens</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;oauth_token_secret&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">client_key</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">,</span> <span class="n">resource_owner_key</span><span class="p">,</span> <span class="n">resource_owner_secret</span><span class="p">,</span> <span class="n">verifier</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># See if you can read the credentials from the file</span>
    <span class="c1"># (If you have credentials for the wrong user, or expired credentials</span>
    <span class="c1"># just delete the file creds.txt</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;creds.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
    <span class="p">(</span><span class="n">client_key</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">,</span> <span class="n">resource_owner_key</span><span class="p">,</span> <span class="n">resource_owner_secret</span><span class="p">,</span> <span class="n">verifier</span><span class="p">)</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span>
    <span class="c1"># If not, you&#39;ll have to get them</span>
    <span class="c1"># and then save them in creds.txt</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">get_tokens</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;creds.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="p">(</span><span class="n">client_key</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">,</span> <span class="n">resource_owner_key</span><span class="p">,</span> <span class="n">resource_owner_secret</span><span class="p">,</span> <span class="n">verifier</span><span class="p">)</span> <span class="o">=</span> <span class="n">tokens</span>

<span class="c1">## Step 4. Access protected resources.</span>

<span class="c1"># For endpoints that might be interesting to try, see</span>
<span class="c1"># https://dev.twitter.com/rest/tools/console and</span>
<span class="c1"># https://dev.twitter.com/rest/public</span>
<span class="n">protected_url</span> <span class="o">=</span> <span class="s1">&#39;https://api.twitter.com/1.1/account/settings.json&#39;</span>
<span class="n">oauth</span> <span class="o">=</span> <span class="n">requests_oauthlib</span><span class="o">.</span><span class="n">OAuth1Session</span><span class="p">(</span><span class="n">client_key</span><span class="p">,</span>
                        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
                        <span class="n">resource_owner_key</span><span class="o">=</span><span class="n">resource_owner_key</span><span class="p">,</span>
                        <span class="n">resource_owner_secret</span><span class="o">=</span><span class="n">resource_owner_secret</span><span class="p">)</span>

<span class="c1"># Call the get method. The work of encoding the client_secret</span>
<span class="c1"># and &quot;signing&quot; the request is taken care of behind the scenes.</span>
<span class="c1"># The results are also processed for you, including calling .read() and</span>
<span class="c1"># encoding as json.</span>
<span class="c1">#r = oauth.get(protected_url)</span>
<span class="c1"># r is now an instance of the Response class in the requests module</span>
<span class="c1"># documentation at</span>
<span class="c1"># http://docs.python-requests.org/en/latest/user/quickstart/#response-content</span>

<span class="c1"># Of particular interest to us is the json() method of the Response class</span>
<span class="c1">#print(pretty(r.json()))</span>


<span class="n">r</span> <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.twitter.com/1.1/search/tweets.json&quot;</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="s1">&#39;University of Michigan&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">})</span> <span class="c1"># request to the Tweet search endpoint, searching for the phrase &#39;University of Michigan&#39;, looking to get 3 Tweets back</span>

<span class="c1"># investigate the data</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()))</span>
<span class="c1"># print(json.dumps(r.json(), indent=2))</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="c1"># print(pretty(res))</span>
<span class="c1"># cache data</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;nested.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">res</span><span class="p">))</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - Requests OAuthLib Library' data-toggle="tooltip">
    <a href="RequestsOAuthLib.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="RequestsOAuthLib.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - Paging' data-toggle="tooltip" >
    <a href="Paging.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="Paging.html" >Next Section - Paging</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <span id='numuserspan'></span> readers online now | <span class='loggedinuser'></span> | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013 Paul Resnick, Brad Miller, David Ranum, Created using Runestone Interactive.
    </p>
  </div>
</footer>


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>